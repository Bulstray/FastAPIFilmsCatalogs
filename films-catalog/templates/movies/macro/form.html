{% from 'macro/form_fields.html' import form_field %}

{% macro render_form (action, button_text) %}
<div class="row">
    <div class="col col-12 col-md-6 col-lg-4">
        <form action="{{ action }}" method="post">
            {% for field_name, field_schema in model_schema.properties.items() %}
                {% set is_required = field_name in model_schema.get('required', []) %}

                {{ form_field(
                        field_name=field_name,
                        field_schema=field_schema,
                        is_required=is_required,
                        value=form_data and form_data[field_name] or field_schema.default,
                        validated=form_validated,
                        error=errors and errors[field_name] or None) }}
            {% endfor %}


            <input type="submit" value={{ button_text }} class="btn btn-primary">
        </form>
    </div>
</div>

{% endmacro %}
